# 🇩🇪 German Study Bot

GitHub Actions로 서버 없이 운영하는 독일어 학습 텔레그램 봇

## ✨ 기능

### 🎯 명령어 기반 학습
- **유저가 원할 때** 단어를 학습할 수 있는 능동적 학습 방식
- 8am-8pm 사이 명령어 실행 시 **최대 5분 내** 응답
- 유저별 **학습한 단어 제외**하고 새로운 단어만 제공

### 📚 레벨별 학습
- `/learn a1` - A1 레벨에서 10개 단어 즉시 학습
- `/learn a2` - A2 레벨에서 10개 단어 즉시 학습
- `/learn b1` - B1 레벨에서 10개 단어 즉시 학습
- 각 레벨별로 이미 배운 단어는 자동 제외

### 🎯 개인화 학습 관리
- `/learned Hallo Tschüss` - 개별 단어 학습 완료 기록
- `/stats` - 레벨별 학습 진행도 확인
- 월요일 8am 자동 학습 가이드 발송

### 💡 추가 기능
- 매 학습마다 랜덤 명언 전송
- 예문, 동의어, 반의어 포함
- 신규 가입자 즉시 환영 메시지

## 🚀 사용법

### 1. 봇 시작
```
/start
```
→ 사용법 안내 메시지를 받습니다

### 2. 레벨별 단어 배우기
```
/learn a1
```
→ A1 레벨에서 안 배운 단어 10개 즉시 출력

```
/learn a2
/learn b1
```
→ 각 레벨별로 10개씩 학습 가능

### 3. 단어 학습 완료 표시
```
/learned Hallo Tschüss Danke Bitte
```
→ 해당 단어들이 다음부터 제외됨

### 4. 진행도 확인
```
/stats
```

출력 예시:
```
📊 학습 통계

✅ 학습 완료: 150개
📝 남은 단어: 2854개
📈 진행도: 5%

---

📚 레벨별 진행도

🟢 A1: 80/1020 (7%)
🟡 A2: 50/1006 (4%)
🔵 B1: 20/978 (2%)

---

📅 마지막 학습: 2024-12-10

계속 화이팅! 💪
```

### 5. 주간 안내 (자동)
매주 **월요일 8am**에 자동으로 학습 가이드가 발송됩니다.

## 📁 프로젝트 구조

```
.
├── main.go
├── vocabulary/
│   ├── a1_words.json
│   ├── a2_words.json
│   ├── b1_words.json
│   └── sentences.json
├── chat_ids.json              # 자동 생성됨
└── user_progress/             # 자동 생성됨
    ├── 123456_progress.json
    └── 789012_progress.json
```

## 🔧 설정

### GitHub Secrets
`TELEGRAM_BOT_TOKEN` 설정 필요

### 크론 일정
```yaml
# 8am-8pm (Berlin 시간) 사이 약 5분마다 실행
# 명령어를 보내면 최대 5분 내에 응답
- cron: "*/1 7-19 * * *"  # UTC 7am-7pm (Berlin 겨울시간 8am-8pm)
```

**참고:** GitHub Actions는 최소 5분 간격으로 실행됩니다.

## 📊 데이터 구조

### user_progress/{chat_id}_progress.json
```json
{
  "chat_id": "123456789",
  "learned_words": ["Hallo", "Tschüss", "Danke"],
  "last_study_date": "2024-12-10",
  "last_update_id": 123456,
  "welcome_sent": true,
  "last_welcome_date": "2024-12-09"
}
```

## 🎯 알고리즘

1. **명령어 감지**: 5분마다 새 명령어 확인
2. **유저별 필터링**: learned_words에 있는 단어 제외
3. **레벨별 선택**: 요청한 레벨에서 10개 랜덤 선택
4. **중복 방지**: Update ID로 이미 처리한 명령어 스킵
5. **월요일 안내**: 매주 월요일 8am에 사용법 자동 발송

## 💰 비용

**완전 무료!**
- GitHub Actions: 월 2,000분 무료
- 하루 156회 실행 × 0.5분 = 월 2,340분 (일부 초과 가능)
- 텔레그램 Bot API: 무료

**팁:** 명령어가 없을 때는 즉시 종료되어 실제 사용량은 훨씬 적습니다.

## ⚙️ 동작 방식

### 명령어 처리 흐름
1. **5분마다** GitHub Actions 실행 (8am-8pm)
2. 각 유저의 **새 메시지** 확인
3. `/learn`, `/learned`, `/stats` 명령어 처리
4. 처리한 메시지는 **Update ID**로 기록 (중복 방지)
5. `/start` 누른 신규 유저 자동 등록

### 월요일 안내
- 매주 **월요일 오전 8시**에 자동 실행
- 모든 등록 유저에게 학습 가이드 발송
- 중복 발송 방지 (하루 1회만)

## 🔮 향후 계획

- [ ] B2 레벨 추가
- [ ] 비즈니스/IT/건강 등 주제별 단어
- [ ] 퀴즈 모드
- [ ] Spaced Repetition 알고리즘
- [ ] 주간/월간 복습 리포트
- [ ] 학습 연속 일수 (Streak) 기능

## 📝 라이센스

MIT